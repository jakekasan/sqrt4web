<link rel="stylesheet" href="/css/courses.css">


<div class="courses-main">
    <div class="blocks">
        <%
            for (let course of courses){
        %>

        <%
            var rightContent;
            
            if (typeof course.lessons != undefined) {
                
                rightContent = course.lessons.reduce((acc,ele) => {
                        return acc+(ele.modules.reduce((totalTime,mod) => {
                            return totalTime+mod.minutes
                        },0))
                    },0)
            } else {
                rightContent = 0;
            }
        %>

        <%- include("../partials/block.ejs",{
            blockContent: {
                title: course.title,
                leftContent: (typeof course.lessons != undefined) ? course.lessons.length : 0,
                leftLabel: "Lekce",
                rightContent: rightContent,
                rightLabel: "Min",
                link:`/courses?id=${course.id}`
            }
        })
        %>

        <%
            }
        %>
    </div>
</div>