<div class="course">
    <section>
        <div class="heading">
            Lessons:
        </div>
        <div class="blocks">
            <%
                for (let lesson of course.lessons){
            %>
            <a href="/lesson?id=<%=lesson.id%>" class="block">
                <div class="title">
                    <%= lesson.title %>
                </div>
                <div class="modules">
                    <%= lesson.modules.length %> Modules
                </div>
                <div class="time">
                    <% let minutes = lesson.modules.reduce((acc,ele) => {
                        return acc + ele.minutes
                    },0) %>
                    <%= minutes %> <%= (minutes == 1) ? "Minute" : "Minutes" %>
                </div>
            </a>
            <%
                }
            %>
        </div>
    </section>
    <section>
        <div class="heading">
            Projects:
        </div>
        <div class="blocks">
            <%
                for (let project of course.projects){
            %>
            <a href="/project?id=<%=project.id%>" class="block">
                <div class="title">
                    <%= project.title %>
                </div>
                <div class="modules">
                    <%= project.steps.length %> <%= (project.steps.length == 1) ? "Step" : "Steps" %>
                </div>
                <div class="time">
                    <% let hours = project.time %>
                    <%= hours %> <%= (hours == 1) ? "Hour" : "Hours" %>
                </div>
            </a>
            <%
                }
            %>
        </div>
    </section>

</div>